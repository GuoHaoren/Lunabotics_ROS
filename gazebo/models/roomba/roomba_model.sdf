<?xml version="1.0" ?>
<sdf version='1.3'>
  <model name="roomba">
<!--  <pose>0 0 0 0 0 0</pose>-->
<!--  
  <link name="base_footprint">
    <pose>0 0 0.001 0 0 0</pose>
    <inertial>
      <mass>0.0001</mass>
      <pose>0 0 0 0 0 0</pose>
      <inertia>
        <ixx>0.0001</ixx>
        <ixy>0.0</ixy>
        <ixz>0.0</ixz>
        <iyy>0.0001</iyy>
        <iyz>0.0</iyz>
        <izz>0.0001</izz>
      </inertia>
    </inertial>

    <visual name="visual">
      <pose>0 0 0 0 0 0</pose>
      <geometry>
        <box>
          <size>0.001 0.001 0.001</size>
        </box>
      </geometry>
    </visual>

    <collision name="collision">
      <pose>0 0 0.1285 0 0 0</pose>
      <geometry>
        <box>
          <size>0.001 0.001 0.001</size>
        </box>
      </geometry>
    </collision>
  </link>

  <joint type="revolute" name="base_footprint_joint">
    <pose>0 0 0.1285 0 0 0</pose>
    <child>base_link</child>
    <parent>base_footprint</parent>
    <axis>
      <xyz>0 0 0</xyz>
      <limit>
        <upper>0</upper>
        <lower>0</lower>
      </limit>
    </axis>
  </joint>
-->

  <link name="base_link">
    <pose>0 0 0.00761 0 0 0</pose>
    <inertial>
      <mass>12</mass>
      <pose>0 0 0 0 0 0</pose>
      <inertia>
        <ixx>1.0</ixx>
        <ixy>0.0</ixy>
        <ixz>0.0</ixz>
        <iyy>1.0</iyy>
        <iyz>0.0</iyz>
        <izz>1.0</izz>
      </inertia>
    </inertial>

    <visual name="visual">
      <pose>0 0 0 0 0 0</pose>
      <geometry>
        <mesh>
          <uri>model://roomba/meshes/create_body.dae</uri>
        </mesh>
      </geometry>
<!--      <material name="Blue"/> -->
    </visual>

    <collision name="collision">
      <pose>0 0 0 0 0 0</pose>
      <geometry>
        <mesh>
          <uri>model://roomba/meshes/create_body.stl</uri>
        </mesh>
      </geometry>
    </collision>

    <collision name='caster_collision'>
    <pose>-0.12 0 -0.035 0 0 0</pose>
      <geometry>
        <sphere>
          <radius>.0008</radius>
        </sphere>
      </geometry>

      <surface>
        <friction>
          <ode>
            <mu>0</mu>
            <mu2>0</mu2>
          </ode>
        </friction>
      </surface>
    </collision>

    <visual name='caster_visual'>
    <pose>-0.12 0 -0.035 0 0 0</pose>
      <geometry>
        <sphere>
          <radius>.0008</radius>
        </sphere>
      </geometry>
    </visual>

    <collision name='caster_collision_back'>
    <pose>0.12 0 -0.035 0 0 0</pose>
      <geometry>
        <sphere>
          <radius>.0008</radius>
        </sphere>
      </geometry>

      <surface>
        <friction>
          <ode>
            <mu>0</mu>
            <mu2>0</mu2>
          </ode>
        </friction>
      </surface>
    </collision>

    <visual name='caster_visual_back'>
    <pose>0.12 0 -0.035 0 0 0</pose>
      <geometry>
        <sphere>
          <radius>.0008</radius>
        </sphere>
      </geometry>
    </visual>
  </link>

<!--
  <joint name="rear_wheel_joint" type="revolute">
    <pose>-0.12 0 -0.035 0 0 0</pose>
    <parent>base_link</parent>
    <child>rear_wheel_link</child>
    <axis>
      <xyz>0 1 0</xyz>
      <limit>
        <effort>10</effort>
        <velocity>100</velocity>
      </limit>
      <dynamics>
        <damping>0.0</damping>
        <friction>0.0</friction>
      </dynamics>
    </axis>
  </joint>

  <link name="rear_wheel_link">
    <pose>0 0 0 0 0 0</pose>
    <inertial>
      <mass>0.001</mass>
      <pose>0 0 0 0 0 0</pose>
      <inertia>
        <ixx>0.012411765597</ixx>
        <ixy>-0.000711733678</ixy>
        <ixz>0.00050272983</ixz>
        <iyy>0.015218160428</iyy>
        <iyz>-0.000004273467</iyz>
        <izz>0.011763977943</izz>
      </inertia>
    </inertial>

    <visual name="visual">
      <pose>0 0 0 1.570795 0 0</pose>
      <geometry>
        <sphere>
         <radius>0.008</radius>
        </sphere>
      </geometry>
    </visual>
    <collision name="collision">
      <pose>0 0 0 1.570795 0 0</pose>
      <geometry>
        <sphere>
          <radius>0.008</radius>
        </sphere>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>10.0</mu>
            <mu2>10.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>1000000.0</kp>
            <kd>1.0</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>
-->
<!--
  <joint name="base_link_right_motor_joint" type="revolute">
    <parent>base_link</parent>
    <child>base_link_right_motor_link</child>
    <axis>
      <xyz>0 0 0</xyz>
      <limit>
        <upper>0</upper>
        <lower>0</lower>
      </limit>
    </axis>
  </joint>

  <link name="base_link_right_motor_link">
    <pose>0 -0.105 -0.0128 0 0 0</pose>
    <inertial>
      <mass>0.1</mass>
      <pose>0 -0.009375 0 0 0 0</pose>
      <inertia>
        <ixx>0.012411765597</ixx>
        <ixy>0.0</ixy>
        <ixz>0.0</ixz>
        <iyy>0.015218160428</iyy>
        <iyz>0.0</iyz>
        <izz>0.011763977943</izz>
      </inertia>
    </inertial>

    <visual name="visual">
      <pose>0 -0.009375 0 1.570795 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.025</length>
          <radius>0.009</radius>
        </cylinder>
      </geometry>
    </visual>
    <collision name="collision">
      <pose>0 -0.009375 0 1.570795 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.025</length>
          <radius>0.009</radius>
        </cylinder>
      </geometry>
    </collision>
  </link>
-->

  <joint name="base_link_right_wheel_joint" type="revolute">
<!--    <pose>0 -0.12475 -0.0128 0 0 0</pose>-->
    <axis>
      <xyz>0 1 0</xyz>
      <limit>
        <effort>100</effort>
        <velocity>100</velocity>
      </limit>
      <dynamics>
        <damping>0.0</damping>
        <friction>0.0</friction>
      </dynamics>
    </axis>
    <parent>base_link</parent>
    <child>base_link_right_wheel_link</child>
  </joint>

  <link name="base_link_right_wheel_link">
<!--    <pose>0 -0.12475 -0.0128 0 0 0</pose>-->
    <pose>0 -0.12475 0 0 0 0</pose>
    <inertial>
      <mass>5</mass>
      <pose>0 0 0 0 0 0</pose>
      <inertia>
        <ixx>0.012411765597</ixx>
        <ixy>0.0</ixy>
        <ixz>0.0</ixz>
        <iyy>0.015218160428</iyy>
        <iyz>0.0</iyz>
        <izz>0.011763977943</izz>
      </inertia>
    </inertial>
    <visual name="visual">
      <pose>0 -0.009375 0 1.570795 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.03</length>
          <radius>0.032</radius>
        </cylinder>
      </geometry>
    </visual>
    <collision name="collision">
      <pose>0 -0.009375 0 1.570795 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.03</length>
          <radius>0.032</radius>
        </cylinder>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>50.0</mu>
            <mu2>50.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>1000000.0</kp>
            <kd>1.0</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>

<!--
  <joint name="base_link_left_motor_joint" type="revolute">
    <parent>base_link</parent>
    <child>base_link_left_motor_link</child>
    <axis>
      <xyz>0 0 0</xyz>
      <limit>
        <upper>0</upper>
        <lower>0</lower>
      </limit>
    </axis>
  </joint>

  <link name="base_link_left_motor_link">
    <pose>0 0.105 -0.0128 0 0 0</pose>
    <inertial>
      <mass>0.1</mass>
      <pose>0 0.009375 0 0 0 0</pose>
      <inertia>
        <ixx>0.012411765597</ixx>
        <ixy>0.0</ixy>
        <ixz>0.0</ixz>
        <iyy>0.015218160428</iyy>
        <iyz>0.0</iyz>
        <izz>0.011763977943</izz>
      </inertia>
    </inertial>
    <visual name="visual">
      <pose>0 0.009375 0 1.570795 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.025</length>
          <radius>0.009</radius>
        </cylinder>
      </geometry>
    </visual>
    <collision name="collision">
      <pose>0 0.009375 0 1.570795 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.025</length>
          <radius>0.009</radius>
        </cylinder>
      </geometry>
    </collision>
  </link>
-->

  <joint name="base_link_left_wheel_joint" type="revolute">
    <pose>0 0 0 0 0 0</pose>
    <axis>
      <xyz>0 1 0</xyz>
      <limit>
        <effort>100</effort>
        <velocity>100</velocity>
      </limit>
      <dynamics>
        <damping>0.0</damping>
        <friction>0.0</friction>
      </dynamics>
    </axis>
    <parent>base_link</parent>
    <child>base_link_left_wheel_link</child>
  </joint>

  <link name="base_link_left_wheel_link">
<!--    <pose>0 0.12475 -0.0128 0 0 0</pose>-->
    <pose>0 0.12475 0 0 0 0</pose>
    <inertial>
      <mass>5</mass>
      <pose>0 0 0 0 0 0</pose>
      <inertia>
        <ixx>0.012411765597</ixx>
        <ixy>0.0</ixy>
        <ixz>0.0</ixz>
        <iyy>0.015218160428</iyy>
        <iyz>0.0</iyz>
        <izz>0.011763977943</izz>
      </inertia>
    </inertial>

    <visual name="visual">
      <pose>0 0.009375 0 1.570795 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.03</length>
          <radius>0.032</radius>
        </cylinder>
      </geometry>
    </visual>

    <collision name="collision">
      <pose>0 0.009375 0 1.570795 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.03</length>
          <radius>0.032</radius>
        </cylinder>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>50.0</mu>
            <mu2>50.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>1000000.0</kp>
            <kd>1.0</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>

<!--
  <joint name="base_caster_support_joint" type="revolute">
    <pose>0.13 0 -0.023 0 0 0</pose>
    <parent>base_link</parent>
    <child>base_caster_support_link</child>
    <axis>
      <xyz>0 0 1</xyz>
      <dynamics>
        <damping>0.0</damping>
        <friction>0.0</friction>
      </dynamics>
      <limit>
        <effort>100</effort>
        <velocity>100</velocity>
      </limit>
    </axis>
  </joint>

  <link name="base_caster_support_link">
    <inertial>
      <mass>25.0</mass>
      <pose>0 0 0 0 0 0</pose>
      <inertia>
        <ixx>0.01</ixx>
        <ixy>0.0</ixy>
        <ixz>0.0</ixz>
        <iyy>0.01</iyy>
        <iyz>0.0</iyz>
        <izz>0.01</izz>
      </inertia>
    </inertial>
    <visual name="visual">
      <pose>0 0 0 0 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.037</length>
          <radius>0.001</radius>
        </cylinder>
      </geometry>
    </visual>
    <collision name="collision">
      <pose>0 0 0 0 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.037</length>
          <radius>0.001</radius>
        </cylinder>
      </geometry>
    </collision>
  </link>

  <joint name="caster_wheel_joint" type="revolute">
    <pose>-0.008 0 -0.0130 0 0 0</pose>
    <parent>base_caster_support_link</parent>
    <child>caster_wheel_link</child>
    <axis>
      <xyz>0 1 0</xyz>
      <dynamics>
        <damping>0.0</damping>
        <friction>0.0</friction>
      </dynamics>
      <limit>
        <effort>100</effort>
        <velocity>100</velocity>
      </limit>
    </axis>
  </joint>

  <link name="caster_wheel_link">
    <inertial>
      <mass>1.0</mass>
      <pose>0 0 0 0 0 0</pose>
      <inertia>
        <ixx>0.012411765597</ixx>
        <ixy>-0.000711733678</ixy>
        <ixz>0.00050272983</ixz>
        <iyy>0.015218160428</iyy>
        <iyz>-0.000004273467</iyz>
        <izz>0.011763977943</izz>
      </inertia>
    </inertial>
    <visual name="visual">
      <pose>0 0 0 1.570795 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.015</length>
          <radius>0.007</radius>
        </cylinder>
      </geometry>
    </visual>
    <collision name="collision">
      <pose>0 0 0 1.570795 0 0</pose>
      <geometry>
        <cylinder>
          <length>0.015</length>
          <radius>0.007</radius>
        </cylinder>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>50.0</mu>
            <mu2>50.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>1000000.0</kp>
            <kd>1.0</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>
-->
		<plugin name="ros_model_plugin" filename="libLunaDiffDrivePlugin.so"/>
  </model>
</sdf>

